# Royal Comfort Hotel Guardrails Documentation

This documentation explains the **Input and Output Guardrails** used with the Royal Comfort Hotel Agent using the latest OpenAI Agent SDK.  
Guardrails ensure that the agent only processes relevant queries and generates safe, controlled responses.

---

## Table of Contents

1. [Overview](#overview)  
2. [Input Guardrails](#input-guardrails)  
3. [Output Guardrails](#output-guardrails)  
4. [Implementation Notes](#implementation-notes)  
5. [Best Practices](#best-practices)

---

## Overview

Guardrails in the OpenAI Agent SDK are mechanisms to **validate, filter, or restrict** user inputs and agent outputs.  
They act as safety and relevance checks to prevent the agent from processing inappropriate, unsafe, or irrelevant queries.

- **Input Guardrail:** Validates the user's input before it reaches the agent.  
- **Output Guardrail:** Validates the agent's output before it is returned to the user.  

This ensures queries unrelated to the hotel (such as accounts, taxes, coding, or other topics) are blocked, and only relevant interactions proceed.

---

## Input Guardrails

**Purpose:**  
Input guardrails intercept user queries and decide whether the query should be processed by the agent.

**Features:**

- Checks if the query mentions the hotel or its services.
- Blocks queries related to accounts, taxes, or other unrelated topics.
- Triggers `InputGuardrailTripwireTriggered` if the input is invalid.
- Returns a `GuardrailFunctionOutput` object with `tripwire_triggered` status.

**Example Use Cases:**

- Prevent users from asking financial or unrelated questions.
- Allow queries about rooms, bookings, pricing, facilities, and policies.

---

## Output Guardrails

**Purpose:**  
Output guardrails validate the responses generated by the agent.

**Features:**

- Ensures responses remain relevant and safe.
- Can flag responses if they contain unsafe or inappropriate content.
- Returns a `GuardrailFunctionOutput` with `tripwire_triggered` flag.
- Works asynchronously alongside the agent's processing.

**Example Use Cases:**

- Prevents leaking sensitive information.
- Ensures responses are aligned with the hotel's services and policies.

---

## Implementation Notes

- Input and Output Guardrails must be **async functions**.
- Input guardrails are decorated with `@input_guardrail`.
- Output guardrails are decorated with `@output_guardrail`.
- Both guardrails must return a `GuardrailFunctionOutput` object.
- Attach guardrails to an agent when creating it:
  ```python
  agent = Agent(
      name="HotelAgent",
      instructions="Agent instructions...",
      model=model,
      input_guardrails=[hotel_input_guardrail],
      output_guardrails=[hotel_output_guardrail]
  )
  ```